# ========================================
# PlebisHub Environment Variables
# ========================================
# Copy this file to .env and configure
# ========================================

# ==================== Rails Configuration ====================
RAILS_ENV=production
RACK_ENV=production

# SECRET_KEY_BASE - REQUIRED
# Generate with: docker compose run --rm app bundle exec rake secret
SECRET_KEY_BASE=your_secret_key_here_generate_with_rake_secret

# ==================== Database Configuration ====================
POSTGRES_DB=plebishub_production
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_database_password_here
POSTGRES_PORT=5432

# ==================== Redis Configuration ====================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_PORT=6379

# ==================== Application Configuration ====================
APP_PORT=3000
RAILS_MAX_THREADS=5
WEB_CONCURRENCY=2

# Build target (production or development)
BUILD_TARGET=production

# ==================== Frontend Configuration ====================
VITE_PORT=3036
VITE_API_URL=http://localhost:3000
NODE_ENV=development

# ==================== Nginx Configuration ====================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ==================== Email Configuration ====================
SMTP_ADDRESS=smtp.gmail.com
SMTP_PORT=587
SMTP_DOMAIN=yourdomain.com
SMTP_USER_NAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password_or_app_password

# Default from email
MAILER_FROM=noreply@yourdomain.com

# ==================== AWS Configuration (Optional) ====================
# Only needed if using S3 for file storage
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=eu-west-1
S3_BUCKET_NAME=plebishub-uploads

# ==================== External Services (Optional) ====================
# Airbrake (Error tracking)
AIRBRAKE_PROJECT_ID=
AIRBRAKE_PROJECT_KEY=

# SMS Service (Esendex)
ESENDEX_USERNAME=
ESENDEX_PASSWORD=
ESENDEX_ACCOUNT_REFERENCE=

# ==================== Security ====================
# Allowed hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3036,https://yourdomain.com

# ==================== Development Tools ====================
# Enable Rails development features
RAILS_DEVELOPMENT_HOSTS=localhost,.ngrok.io

# Enable Rack Mini Profiler
RACK_MINI_PROFILER=false

# ==================== Notes ====================
# 1. Never commit .env file to git (already in .gitignore)
# 2. Generate strong passwords for production
# 3. Use different SECRET_KEY_BASE for each environment
# 4. Keep AWS credentials secure and rotate regularly
