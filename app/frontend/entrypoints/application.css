/**
 * Main CSS entry point
 * Includes Tailwind CSS and custom CSS variables from Design Tokens
 */

@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* CSS Custom Properties from Design Tokens */
:root {
  /* Primary Colors - Morado PlebisHub */
  --color-primary-50: #faf5fb;
  --color-primary-100: #f4ebf6;
  --color-primary-200: #ead7ee;
  --color-primary-300: #dab9e0;
  --color-primary-400: #c491cd;
  --color-primary-500: #a96bb6;
  --color-primary-600: #8a4f98;
  --color-primary-700: #612d62;
  --color-primary-800: #5a2a59;
  --color-primary-900: #4c244a;

  /* Secondary Colors - Verde */
  --color-secondary-50: #f0fdfa;
  --color-secondary-100: #ccfbf1;
  --color-secondary-200: #99f6e4;
  --color-secondary-300: #5eead4;
  --color-secondary-400: #2dd4bf;
  --color-secondary-500: #14b8a6;
  --color-secondary-600: #269283;
  --color-secondary-700: #0f766e;
  --color-secondary-800: #115e59;
  --color-secondary-900: #134e4a;

  /* Typography */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-heading: 'Montserrat', sans-serif;

  /* Font Sizes - Major Third Scale (1.250) */
  --font-size-xs: 0.75rem; /* 12px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-base: 1rem; /* 16px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-size-xl: 1.25rem; /* 20px */
  --font-size-2xl: 1.563rem; /* 25px */
  --font-size-3xl: 1.953rem; /* 31px */
  --font-size-4xl: 2.441rem; /* 39px */
  --font-size-5xl: 3.052rem; /* 49px */

  /* Spacing - 8px base grid */
  --spacing-0: 0;
  --spacing-1: 0.25rem; /* 4px */
  --spacing-2: 0.5rem; /* 8px */
  --spacing-3: 0.75rem; /* 12px */
  --spacing-4: 1rem; /* 16px */
  --spacing-5: 1.25rem; /* 20px */
  --spacing-6: 1.5rem; /* 24px */
  --spacing-8: 2rem; /* 32px */
  --spacing-10: 2.5rem; /* 40px */
  --spacing-12: 3rem; /* 48px */
  --spacing-16: 4rem; /* 64px */
  --spacing-20: 5rem; /* 80px */
  --spacing-24: 6rem; /* 96px */

  /* Border Radius */
  --radius-sm: 0.25rem; /* 4px */
  --radius-md: 0.5rem; /* 8px */
  --radius-lg: 0.75rem; /* 12px */
  --radius-xl: 1rem; /* 16px */
  --radius-2xl: 1.5rem; /* 24px */
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 2px 8px 0 rgb(0 0 0 / 0.1);
  --shadow-lg: 0 4px 12px 0 rgb(0 0 0 / 0.1);
  --shadow-xl: 0 8px 24px 0 rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 16px 48px 0 rgb(0 0 0 / 0.15);

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base styles */
@layer base {
  body {
    @apply font-sans text-base text-gray-900 antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading font-bold;
  }

  h1 {
    @apply text-5xl;
  }
  h2 {
    @apply text-4xl;
  }
  h3 {
    @apply text-3xl;
  }
  h4 {
    @apply text-2xl;
  }
  h5 {
    @apply text-xl;
  }
  h6 {
    @apply text-lg;
  }
}

/* ==========================================
   COMPONENT CLASSES
   ========================================== */

/* Buttons */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2
           font-medium rounded-lg transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white
           hover:bg-primary-700 focus:ring-primary-500
           active:bg-primary-800;
  }

  .btn-secondary {
    @apply btn bg-secondary-600 text-white
           hover:bg-secondary-700 focus:ring-secondary-500
           active:bg-secondary-800;
  }

  .btn-outline {
    @apply btn border-2 border-primary-600 text-primary-600
           hover:bg-primary-50 focus:ring-primary-500
           active:bg-primary-100;
  }

  .btn-outline-secondary {
    @apply btn border-2 border-secondary-600 text-secondary-600
           hover:bg-secondary-50 focus:ring-secondary-500
           active:bg-secondary-100;
  }

  .btn-ghost {
    @apply btn text-gray-700
           hover:bg-gray-100 focus:ring-gray-500
           active:bg-gray-200;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white
           hover:bg-red-700 focus:ring-red-500
           active:bg-red-800;
  }

  .btn-sm {
    @apply text-sm px-3 py-1.5;
  }

  .btn-lg {
    @apply text-lg px-6 py-3;
  }

  .btn-xl {
    @apply text-xl px-8 py-4;
  }

  .btn-icon {
    @apply p-2;
  }
}

/* Forms */
@layer components {
  .form-input {
    @apply block w-full px-3 py-2
           border border-gray-300 rounded-lg
           text-gray-900 placeholder-gray-400
           bg-white
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
           disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed
           transition-colors duration-200;
  }

  .form-input-error {
    @apply form-input border-red-500 focus:ring-red-500;
  }

  .form-textarea {
    @apply form-input min-h-[100px] resize-y;
  }

  .form-select {
    @apply form-input pr-10 appearance-none
           bg-no-repeat bg-right
           bg-[url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")]
           bg-[length:1.5rem_1.5rem];
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .form-label-required::after {
    content: ' *';
    @apply text-red-500;
  }

  .form-error {
    @apply mt-1 text-sm text-red-600;
  }

  .form-help {
    @apply mt-1 text-sm text-gray-500;
  }

  .form-group {
    @apply mb-4;
  }

  .form-checkbox {
    @apply h-4 w-4 text-primary-600 border-gray-300 rounded
           focus:ring-primary-500 focus:ring-offset-0;
  }

  .form-radio {
    @apply h-4 w-4 text-primary-600 border-gray-300
           focus:ring-primary-500 focus:ring-offset-0;
  }
}

/* Cards */
@layer components {
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden;
  }

  .card-elevated {
    @apply card shadow-lg border-0;
  }

  .card-header {
    @apply px-6 py-4 border-b border-gray-100;
  }

  .card-header-colored {
    @apply card-header bg-primary-50;
  }

  .card-body {
    @apply px-6 py-4;
  }

  .card-footer {
    @apply px-6 py-4 border-t border-gray-100 bg-gray-50;
  }

  .card-title {
    @apply text-lg font-semibold text-gray-900;
  }

  .card-subtitle {
    @apply text-sm text-gray-500 mt-1;
  }
}

/* Alerts */
@layer components {
  .alert {
    @apply p-4 rounded-lg border flex items-start gap-3;
  }

  .alert-success {
    @apply alert bg-green-50 border-green-200 text-green-800;
  }

  .alert-error {
    @apply alert bg-red-50 border-red-200 text-red-800;
  }

  .alert-warning {
    @apply alert bg-yellow-50 border-yellow-200 text-yellow-800;
  }

  .alert-info {
    @apply alert bg-blue-50 border-blue-200 text-blue-800;
  }

  .alert-icon {
    @apply flex-shrink-0 w-5 h-5 mt-0.5;
  }

  .alert-content {
    @apply flex-1;
  }

  .alert-title {
    @apply font-medium;
  }

  .alert-description {
    @apply text-sm opacity-90 mt-1;
  }

  .alert-dismiss {
    @apply flex-shrink-0 p-1 rounded hover:bg-black/5 transition-colors;
  }
}

/* Navigation */
@layer components {
  .nav-link {
    @apply px-4 py-2 text-gray-600 font-medium rounded-lg
           hover:text-primary-600 hover:bg-primary-50
           transition-colors duration-200;
  }

  .nav-link-active {
    @apply nav-link text-primary-600 bg-primary-50;
  }

  .nav-tabs {
    @apply flex border-b border-gray-200;
  }

  .nav-tab {
    @apply px-4 py-2 -mb-px text-sm font-medium text-gray-500
           border-b-2 border-transparent
           hover:text-gray-700 hover:border-gray-300
           transition-colors duration-200;
  }

  .nav-tab-active {
    @apply nav-tab text-primary-600 border-primary-600;
  }
}

/* Tables */
@layer components {
  .table {
    @apply min-w-full divide-y divide-gray-200;
  }

  .table th {
    @apply px-6 py-3 text-left text-xs font-medium
           text-gray-500 uppercase tracking-wider bg-gray-50;
  }

  .table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }

  .table tbody tr {
    @apply hover:bg-gray-50 transition-colors;
  }

  .table-striped tbody tr:nth-child(even) {
    @apply bg-gray-50;
  }
}

/* Badges */
@layer components {
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5
           text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply badge bg-primary-100 text-primary-800;
  }

  .badge-secondary {
    @apply badge bg-secondary-100 text-secondary-800;
  }

  .badge-success {
    @apply badge bg-green-100 text-green-800;
  }

  .badge-danger {
    @apply badge bg-red-100 text-red-800;
  }

  .badge-warning {
    @apply badge bg-yellow-100 text-yellow-800;
  }

  .badge-info {
    @apply badge bg-blue-100 text-blue-800;
  }

  .badge-gray {
    @apply badge bg-gray-100 text-gray-800;
  }
}

/* Modals */
@layer components {
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 z-40
           flex items-center justify-center p-4;
  }

  .modal {
    @apply bg-white rounded-xl shadow-2xl
           w-full max-w-lg max-h-[90vh]
           overflow-hidden flex flex-col z-50;
  }

  .modal-header {
    @apply px-6 py-4 border-b border-gray-100
           flex items-center justify-between;
  }

  .modal-title {
    @apply text-lg font-semibold text-gray-900;
  }

  .modal-close {
    @apply p-1 text-gray-400 hover:text-gray-600
           rounded-lg hover:bg-gray-100 transition-colors;
  }

  .modal-body {
    @apply px-6 py-4 overflow-y-auto flex-1;
  }

  .modal-footer {
    @apply px-6 py-4 border-t border-gray-100
           flex items-center justify-end gap-3 bg-gray-50;
  }
}

/* Progress */
@layer components {
  .progress {
    @apply w-full h-2 bg-gray-200 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full bg-primary-600 rounded-full transition-all duration-300;
  }

  .progress-bar-success {
    @apply progress-bar bg-green-600;
  }

  .progress-bar-warning {
    @apply progress-bar bg-yellow-500;
  }

  .progress-bar-danger {
    @apply progress-bar bg-red-600;
  }
}

/* Avatars */
@layer components {
  .avatar {
    @apply inline-flex items-center justify-center
           rounded-full bg-gray-200 text-gray-600 font-medium;
  }

  .avatar-sm {
    @apply avatar w-8 h-8 text-xs;
  }

  .avatar-md {
    @apply avatar w-10 h-10 text-sm;
  }

  .avatar-lg {
    @apply avatar w-12 h-12 text-base;
  }

  .avatar-xl {
    @apply avatar w-16 h-16 text-lg;
  }
}

/* Spinners */
@layer components {
  .spinner {
    @apply animate-spin rounded-full
           border-2 border-gray-300 border-t-primary-600;
  }

  .spinner-sm {
    @apply spinner w-4 h-4;
  }

  .spinner-md {
    @apply spinner w-6 h-6;
  }

  .spinner-lg {
    @apply spinner w-8 h-8;
  }
}

/* Tooltips */
@layer components {
  .tooltip {
    @apply absolute z-50 px-2 py-1 text-xs font-medium
           text-white bg-gray-900 rounded shadow-lg
           opacity-0 invisible transition-all duration-200;
  }

  .tooltip-visible {
    @apply opacity-100 visible;
  }
}

/* ==========================================
   BOOTSTRAP COMPATIBILITY LAYER
   (For gradual migration - remove when complete)
   ========================================== */

@layer utilities {
  /* Bootstrap grid compatibility */
  .container {
    @apply mx-auto px-4 max-w-7xl;
  }

  .row {
    @apply flex flex-wrap -mx-4;
  }

  .col-xs-12 {
    @apply w-full px-4;
  }

  .col-sm-6 {
    @apply w-full sm:w-1/2 px-4;
  }

  .col-md-3 {
    @apply w-full md:w-1/4 px-4;
  }

  .col-md-4 {
    @apply w-full md:w-1/3 px-4;
  }

  .col-md-6 {
    @apply w-full md:w-1/2 px-4;
  }

  .col-md-8 {
    @apply w-full md:w-2/3 px-4;
  }

  .col-md-9 {
    @apply w-full md:w-3/4 px-4;
  }

  .col-lg-3 {
    @apply w-full lg:w-1/4 px-4;
  }

  .col-lg-4 {
    @apply w-full lg:w-1/3 px-4;
  }

  .col-lg-6 {
    @apply w-full lg:w-1/2 px-4;
  }

  .col-lg-8 {
    @apply w-full lg:w-2/3 px-4;
  }

  /* Bootstrap utilities compatibility */
  .pull-left {
    @apply float-left;
  }

  .pull-right {
    @apply float-right;
  }

  .clearfix::after {
    @apply block clear-both content-[''];
  }

  .hidden-xs {
    @apply hidden sm:block;
  }

  .hidden-sm {
    @apply hidden md:block;
  }

  .visible-xs {
    @apply block sm:hidden;
  }

  .visible-sm {
    @apply hidden sm:block md:hidden;
  }

  /* Panel to Card migration */
  .panel {
    @apply card;
  }

  .panel-heading {
    @apply card-header;
  }

  .panel-body {
    @apply card-body;
  }

  .panel-footer {
    @apply card-footer;
  }

  /* Form control compatibility */
  .form-control {
    @apply form-input;
  }

  /* Table compatibility */
  .table-striped {
    @apply table-striped;
  }

  .table-bordered {
    @apply border border-gray-200;
  }

  .table-hover tbody tr {
    @apply hover:bg-gray-50;
  }
}

/* Custom utility classes */
@layer utilities {
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-offset-2;
  }

  .btn-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.3s ease-out;
  }
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Google Fonts - Inter & Montserrat */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@600;700;800&display=swap');
